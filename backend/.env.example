# ================================================
# KXRTEX Backend Environment Variables
# ================================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control
# ================================================

# ================================================
# SERVER CONFIGURATION
# ================================================
NODE_ENV=development
PORT=3000
API_URL=http://localhost:3000

# ================================================
# DATABASE
# ================================================
# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=public
DATABASE_URL="postgresql://postgres:password@localhost:5432/kxrtex?schema=public"

# ================================================
# AUTHENTICATION
# ================================================
# JWT secret key - MUST be changed in production
# Generate with: openssl rand -base64 64
JWT_SECRET=your-super-secret-jwt-key-change-in-production-use-64-chars-minimum
JWT_EXPIRES_IN=7d

# ================================================
# REDIS (OPTIONAL - for caching and job queues)
# ================================================
# Can use Railway/Render Redis or local instance
# Leave empty if not using Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
# Or use Redis URL format:
# REDIS_URL=redis://:password@host:port

# ================================================
# CLOUDINARY (Image/Video Storage)
# ================================================
# Get credentials from: https://cloudinary.com/console
# Used for: profile photos, portfolio images, check-in photos
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=your-api-key
CLOUDINARY_API_SECRET=your-api-secret

# ================================================
# ASAAS PAYMENT GATEWAY
# ================================================
# Sandbox: https://sandbox.asaas.com
# Production: https://www.asaas.com
# Get API key from: Dashboard > Integrações > API Key
ASAAS_API_KEY=your-asaas-api-key-get-from-dashboard
ASAAS_ENVIRONMENT=sandbox
# Webhook secret for validating ASAAS callbacks
# Generate with: openssl rand -hex 32
ASAAS_WEBHOOK_SECRET=your-webhook-secret-for-asaas-validation

# ================================================
# FIREBASE (Push Notifications)
# ================================================
# Option 1: Use service account JSON (recommended for production)
# Get from: Firebase Console > Project Settings > Service Accounts > Generate new private key
# Paste the ENTIRE JSON content here (single line, properly escaped)
FIREBASE_SERVICE_ACCOUNT={"type":"service_account","project_id":"your-project-id",...}

# Option 2: Use service account file path (for local development)
# Download JSON file and place in backend/config/
# FIREBASE_SERVICE_ACCOUNT_PATH=./config/firebase-service-account.json

# Legacy individual fields (not needed if using FIREBASE_SERVICE_ACCOUNT)
# FIREBASE_PROJECT_ID=your-project-id
# FIREBASE_PRIVATE_KEY=your-private-key
# FIREBASE_CLIENT_EMAIL=your-client-email

# ================================================
# SENDGRID (Email Service)
# ================================================
# Get API key from: https://app.sendgrid.com/settings/api_keys
# Used for: password reset, booking confirmations, notifications
SENDGRID_API_KEY=SG.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
SENDGRID_FROM_EMAIL=noreply@kxrtex.com
SENDGRID_FROM_NAME=KXRTEX

# ================================================
# FRONTEND URLS (CORS Configuration)
# ================================================
# Comma-separated list of allowed origins
# Development: include localhost ports for web and mobile
# Production: use your actual domain(s)
FRONTEND_URL=http://localhost:5173,http://localhost:19006,http://localhost:19000

# ================================================
# RATE LIMITING
# ================================================
# Protect API from abuse
# Window in milliseconds (15 minutes = 900000)
RATE_LIMIT_WINDOW_MS=900000
# Maximum requests per window per IP
RATE_LIMIT_MAX_REQUESTS=100

# ================================================
# MONITORING (OPTIONAL)
# ================================================
# Sentry for error tracking: https://sentry.io
# SENTRY_DSN=https://xxxxx@sentry.io/xxxxx

# ================================================
# PRODUCTION-ONLY VARIABLES
# ================================================
# These should ONLY be set in production environment

# Custom domain for API
# API_URL=https://api.kxrtex.com

# Production database (managed service)
# DATABASE_URL=postgresql://user:pass@host:5432/kxrtex

# Production frontend URLs
# FRONTEND_URL=https://kxrtex.com,https://www.kxrtex.com,https://app.kxrtex.com

# Production Redis (if using)
# REDIS_URL=redis://:password@redis-host:6379

# ================================================
# NOTES
# ================================================
# 1. Generate secure secrets with: openssl rand -base64 64
# 2. Never commit .env file to git (it's in .gitignore)
# 3. Keep .env.example updated but without real values
# 4. Use different secrets for development and production
# 5. In production, use environment variables from hosting platform
#    (Railway, Render, etc.) instead of .env file
# ================================================
